// Создаем карту с помощью Leaflet
const map = L.map('map').setView([55.0, 105.0], 3); // Центр карты на России

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
}).addTo(map);

// Массив с информацией о народах
const tribes = {
    saami: {
        name: 'Саамы',
        description: 'Саамы — коренной народ, проживающий на территории Кольского полуострова, а также в Финляндии, Норвегии и Швеции.',
        audio: 'E:/malye-narody/audio/Сказка_саами.mp3',
        image: 'E:/malye-narody/foto/саамы.jpg',
        traditions: 'Саамы практикуют оленеводство, что является основой их экономики и культурной идентичности. Их традиции включают уникальные обряды, связанные с природой и изменениями времен года. Саамская культура тесно связана с природными явлениями, такими как полярное сияние и миграции оленей.',
        crafts: 'Саамские ремесла включают изготовление традиционной одежды из оленьих шкур, а также ткачество и вышивку. Они также занимаются резьбой по дереву, создавая декоративные и утилитарные предметы. Саамские ковры и текстиль известны своим ярким орнаментом и символизмом.',
        legends: 'Саамская мифология наполнена историями о духах природы, оленях и мифических существах, которые защищают их землю. Главные божества — это Бьёрн, бог зимы, и Туорн, бог оленей. Легенды часто рассказывают о борьбе людей с природными стихиями и великими духами.',
        lat: 67.5,
        lon: 33.5
    },
    tsakhur: {
        name: 'Цахуры',
        description: 'Цахуры — народ, проживающий на Кавказе, в основном в Дагестане и Азербайджане. У них есть уникальная культура и язык, отличающийся от других народов Кавказа.',
        audio: 'E:/malye-narody/audio/Цахур_сказка.mp3',
        image: 'E:/malye-narody/foto/цахуры.jpg',
        traditions: 'Цахуры славятся своими праздниками, связанными с природой и сельским трудом. Одним из главных обычаев является празднование окончания сельскохозяйственных работ, в котором участвует вся община. Они также почитают старейшин, и их роль в обществе является важной.',
        crafts: 'Цахуры знамениты своими коврами и тканями, а также искусством резьбы по дереву. Изготавливают много предметов для быта, таких как посуду и мебель, а также украшения из металла. Мастера также известны своими орнаментами на текстиле, которые символизируют гармонию с природой.',
        legends: 'Мифы цахуров рассказывают о древних героях, которые защищали землю и народ от врагов. Один из известных мифов связан с Богом огня, который даровал людям способность к ремеслам и искусствам. Легенды передаются из поколения в поколение через устное творчество.',
        lat: 41.5,
        lon: 47.5
    },
    nganasan: {
        name: 'Нганасаны',
        description: 'Нганасаны — малый народ, проживающий на Таймыре, в северной части Сибири. Их жизнь традиционно связана с оленеводством и рыболовством.',
        audio: '',
        image: 'E:/malye-narody/foto/нагасаны.jpg',
        traditions: 'Нганасаны празднуют различные обряды, связанные с изменением сезонов и животным миром. Одним из самых важных праздников является праздник поклонения духам природы, который проводится каждый год. Нганасаны также почитают предков, и память о них сохраняется в их песнях и танцах.',
        crafts: 'Известны своими изделиями из оленьих шкур, которые используются для создания одежды, обуви и предметов быта. Ремесло ткачества также имеет большую роль в жизни народа, особенно в создании традиционных покрывал и ковров. Кроме того, они мастерски изготавливают предметы для охоты и рыболовства.',
        legends: 'Мифология нганасанов тесно связана с природой, и многие легенды рассказывают о взаимодействии с духами животных и лесов. Легенды о великих охотниках и шamanах, которые могли общаться с духами, передаются через поколения. Легенды часто рассказывают о путешествиях в мистические миры и борьбе с чудовищами.',
        lat: 67.0,
        lon: 87.0
    },
    evenki: {
        name: 'Эвенки',
        description: 'Эвенки — коренной народ, проживающий на территории Сибири и Дальнего Востока России. Это кочевники, которые традиционно занимаются оленеводством и охотой.',
        audio: '',
        image: 'E:/malye-narody/foto/evenkiiskii.jpg',
        traditions: 'Эвенки имеют традицию кочевать с оленями по бескрайним просторам Сибири, что формирует их культурное восприятие мира. Сельскохозяйственные и ремесленные работы также имеют важное значение в их культуре. Их традиции насыщены разнообразными праздниками, связанными с жизнью оленей и другими природными циклами.',
        crafts: 'Ремесла эвенков включают изготовление кожи, меха и дерева для создания одежды и предметов быта. Они также известны своими ковками, изготовлением ножей и оружия для охоты. Кроме того, они мастерски изготавливают сети для ловли рыбы и различные приспособления для ловли животных.',
        legends: 'Эвенкская мифология наполнена рассказами о духах животных, лесов и гор, которые играют важную роль в их жизни. Одним из известных мифов является история о том, как олени стали спутниками людей. Легенды также рассказывают о духах, которые защищают землю и народ.',
        lat: 60.0,
        lon: 100.0
    },
    kumandin: {
        name: 'Кумандинцы',
        description: 'Кумандинцы — народ, который проживает на территории Алтая. Они славятся своим земледелием, скотоводством и богатой культурной традицией.',
        audio: '',
        image: 'E:/malye-narody/foto/kumandin.jpg',
        traditions: 'Кумандинцы соблюдают множество обрядов, связанных с природой и их жизнью на Алтае. Одним из важнейших является обряд благословения на новый урожай, который сопровождается танцами и песнями. Кумандинцы также уделяют внимание воспитанию детей в духе уважения к природе и старшим.',
        crafts: 'Известны своим мастерством в изготовлении изделий из дерева, металла и камня. Изготавливают уникальные украшения и посуду, а также традиционные ремесленные изделия для охоты и быта. Также большое внимание уделяется ткачеству и вышивке.',
        legends: 'Кумандинские легенды часто рассказывают о борьбе с мифическими существами и героях, защищающих свою землю от врагов. Особое место занимают мифы о духах природы и великих предках. Легенды передаются через песни и танцы, которые часто исполняются на праздниках.',
        lat: 51.5,
        lon: 85.5
    }
};

// Функция для добавления маркера на карту
function addMarker(tribe) {
    const marker = L.marker([tribe.lat, tribe.lon]).addTo(map);

    // Когда маркер кликнут, показываем информацию о народе
    marker.on('click', function () {
        document.getElementById('tribe-name').textContent = tribe.name;
        document.getElementById('tribe-description').textContent = tribe.description;
        document.getElementById('tribe-image').src = tribe.image;
        document.getElementById('audio-source').src = tribe.audio;
        document.getElementById('tribe-audio').load();

        // Дополнительная информация
        document.getElementById('tribe-traditions').textContent = 'Традиции: ' + tribe.traditions;
        document.getElementById('tribe-crafts').textContent = 'Ремесла: ' + tribe.crafts;
        document.getElementById('tribe-legends').textContent = 'Мифы: ' + tribe.legends;

        // Показываем блок с дополнительной информацией
        document.getElementById('additional-info').style.display = 'block';
    });
}

// Добавляем маркеры для всех народов
Object.values(tribes).forEach(addMarker);
